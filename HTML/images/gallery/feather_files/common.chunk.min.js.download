(window.webpackJsonp_media_image_studio=window.webpackJsonp_media_image_studio||[]).push([[1],{1103:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Source=void 0;var i=function(t){this.path=null,this.fileId=null,t&&(t.fileId&&(this.fileId=t.fileId),t.path&&(this.path=t.path))};e.Source=i},1104:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validator=void 0,e.validator={numberIsRequired:function(t,e){return 0===e||e?null:t+" is mandatory"},numberNotInRange:function(t,e,n,i){return"number"==typeof e&&isNaN(e)||e>i||e<n?t+": "+e+" is not a number between "+n+" to "+i:null},numberIsNotGreaterThan:function(t,e,n){return"number"==typeof e&&isNaN(e)||e<n?t+": "+e+" is not a number greater than "+n:null}}},1105:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Destination=void 0;var i=n(1106),r=function(t){this.acl=i.ACL.PUBLIC,t.acl&&(this.acl=t.acl),this.directory=t.directory,this.path=t.path};e.Destination=r},1106:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lifecycle=e.LiveStreamState=e.DescriptorMimeType=e.MediaType=e.FileType=e.ACL=e.OrderDirection=void 0,function(t){t[t.None=0]="None",t.ASC="asc",t.DES="des"}(e.OrderDirection||(e.OrderDirection={})),function(t){t.PRIVATE="private",t.PUBLIC="public"}(e.ACL||(e.ACL={})),function(t){t.FILE="-",t.FOLDER="d"}(e.FileType||(e.FileType={})),function(t){t.Image="image",t.Video="video",t.Audio="audio",t.Font="font"}(e.MediaType||(e.MediaType={})),function(t){t.Folder="application/vnd.wix-media.dir"}(e.DescriptorMimeType||(e.DescriptorMimeType={})),function(t){t.CREATED="created",t.STREAMING="streaming",t.PENDING_RECONNECT="pending_reconnect",t.DVR_PROCESSING="dvr_processing",t.CLOSED="closed"}(e.LiveStreamState||(e.LiveStreamState={})),function(t){t.Delete="delete"}(e.Lifecycle||(e.Lifecycle={}))},1107:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Job=e.JobStatus=void 0;var i,r=n(1228),o=n(1229),s=n(1114),a=n(1115),u=n(1230),c=n(1231),l=n(1103),h=n(1116);!function(t){t.PENDING="pending",t.WORKING="working",t.SUCCESS="success",t.ERROR="error"}(i=e.JobStatus||(e.JobStatus={}));var p={"urn:job:archive.extract":o.ExtractArchiveSpecification,"urn:job:archive.create":r.CreateArchiveSpecification,"urn:job:av.transcode":h.TranscodeSpecification,"urn:job:av.poster":s.ExtractPosterSpecification,"urn:job:av.storyboard":a.ExtractStoryboardSpecification,"urn:job:import.file":u.FileImportSpecification,"urn:job:av.package":c.PackagingSpecification},f=function(){function t(t){this.issuer=null,this.status=i.PENDING,this.groupId=null,this.dateCreated=null,this.dateUpdated=null,this.sources=[],this.id=t.id,this.type=t.type,this.issuer=t.issuer,t.status&&(this.status=t.status),this.groupId=t.groupId,this.result=t.result,void 0!==t.sources&&(this.sources=t.sources.map((function(t){return new l.Source(t)})));var e=p[this.type];this.specification=new e(t.specification),this.dateCreated=t.dateCreated,this.dateUpdated=t.dateUpdated}return t.prototype.isWaiting=function(){return this.status===i.PENDING||this.status===i.WORKING},t.prototype.isSuccess=function(){return this.status===i.SUCCESS},t.prototype.isError=function(){return this.status===i.ERROR},t}();e.Job=f},1108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileDescriptor=void 0;var i=function(t){this.id="",this.hash=null,this.path="",this.mimeType=null,this.type=null,this.size=void 0,this.acl=null,this.bucket=null,this.lifecycle=null,this.dateCreated=null,this.dateExpired=null,this.dateUpdated=null,this.acl=t.acl||null,this.bucket=t.bucket||null,this.dateCreated=t.dateCreated||null,t.dateCreated&&t.lifecycle&&(this.dateExpired=new Date(new Date(t.dateCreated).getTime()+1e3*t.lifecycle.age).toISOString()),this.dateUpdated=t.dateUpdated||null,t.id&&(this.id=t.id),this.hash=t.hash||null,this.lifecycle=t.lifecycle||null,this.mimeType=t.mimeType||null,t.path&&(this.path=t.path),void 0!==t.size&&(this.size=t.size),this.type=t.type||null};e.FileDescriptor=i},1109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UploadEvent=void 0;var i=function(t,e){void 0===e&&(e=null),this.target=t,this.response=e,this.name=""};e.UploadEvent=i},1110:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},1111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var i=function(){function t(t,e,n,i){this.width=t,this.height=e,this.x=n,this.y=i}return t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setWidth=function(t){return this.width=t,this},t.prototype.setHeight=function(t){return this.height=t,this},t}();e.Rectangle=i},1112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileMetadata=void 0;var i=n(1106),r=n(1177),o=n(1179),s=n(1108),a=n(1182),u=n(1183),c=n(1184),l=function(t){if(this.fileDescriptor=null,this.mediaType=null,this.basic=null,this.features=null,this.extra=null,t.fileDescriptor){if(this.fileDescriptor=new s.FileDescriptor(t.fileDescriptor||void 0),this.mediaType=t.mediaType||null,t.basic)switch(this.mediaType){case i.MediaType.Image:this.basic=new a.ImageBasicMetadata(t.basic);break;case i.MediaType.Video:this.basic=new c.VideoBasicMetadata(t.basic);break;case i.MediaType.Audio:this.basic=new r.AudioBasicMetadata(t.basic);break;default:return}if(t.features)switch(this.mediaType){case i.MediaType.Image:this.features=new u.ImageFeatures(t.features);break;default:return}if(t.extra)switch(this.mediaType){case i.MediaType.Audio:this.extra=new o.AudioExtraMetadata(t.extra);break;default:return}}};e.FileMetadata=l},1113:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Geometry=e.GeometryBase=void 0;var o=function(){function t(t,e){this.name="Base",this.width=Math.round(t),this.height=Math.round(e)}return t.prototype.serialize=function(){throw Error("NotImplemented")},t}();e.GeometryBase=o;var s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.coordinates(e,n),i}return r(e,t),e.prototype.coordinates=function(t,e){throw Error("NotImplemented")},e}(o);e.Geometry=s},1114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractPosterSpecification=void 0;var i=n(1105),r=function(t){this.destination=new i.Destination(t.destination),this.format=t.format,this.second=t.second,this.percentage=t.percentage};e.ExtractPosterSpecification=r},1115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractStoryboardSpecification=void 0;var i=n(1105),r=function(t){this.destination=new i.Destination(t.destination),this.format=t.format,this.columns=t.columns,this.rows=t.rows,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight};e.ExtractStoryboardSpecification=r},1116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranscodeSpecification=void 0;var i=n(1201),r=n(1105),o=n(1132),s=n(1204),a=function(t){this.quality=null,this.video=null,this.audio=null,this.destination=new r.Destination(t.destination),this.quality=t.quality?t.quality:null,this.qualityRange=new o.QualityRange(t.qualityRange?t.qualityRange:{maximum:null,minimum:null}),t.video&&(this.video=new s.Video(t.video)),t.audio&&(this.audio=new i.Audio(t.audio))};e.TranscodeSpecification=a},1117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlowComponent=void 0;var i=n(1118),r=n(1108),o=n(1103),s=function(t){this.specification=null,this.results=[],this.sources=[],this.successors=[],this.status=null,this.type=t.type,this.specification=t.specification,t.successors&&(this.successors=t.successors),t.callback&&(this.callback=new i.Callback(t.callback)),t.sources&&(this.sources=t.sources.map((function(t){return new o.Source(t)}))),t.results&&(this.results=t.results.map((function(t){return new r.FileDescriptor(t)}))),this.status=t.status?t.status:null};e.FlowComponent=s},1118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callback=void 0;var i=function(t){this.url=t.url,this.attachment=t.attachment,this.headers=t.headers};e.Callback=i},1119:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invocation=e.ErrorStrategy=void 0;var i,r=n(1103),o=n(1118);!function(t){t.STOP_ON_ERROR="stopOnError",t.CONTINUE_ON_ERROR="continueOnError"}(i=e.ErrorStrategy||(e.ErrorStrategy={}));var s=function(t){if(this.sources=[],this.entryPoints=[],this.errorStrategy=i.STOP_ON_ERROR,t){for(var e in this.sources=[],t.sources)this.sources[e]=new r.Source(t.sources[e]);t.callback&&(this.callback=new o.Callback(t.callback)),this.entryPoints=t.entryPoints,this.errorStrategy=t.errorStrategy}};e.Invocation=s},1120:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveStream=void 0;var i=n(1134),r=n(1121),o=n(1208),s=n(1209),a=function(t){this.id=null,this.id=t.id,this.publishEndpoint=new s.PublishEndpoint(t.publishEndpoint),this.playbackUrls=t.playbackUrls.map((function(t){return new o.PlaybackUrl(t)})),this.streamType=t.streamType,this.duration=t.duration,this.connectTimeout=t.connectTimeout,this.reconnectTimeout=t.reconnectTimeout,this.enforcedWidth=t.enforcedWidth,this.enforcedHeight=t.enforcedHeight,this.maxPublishDuration=t.maxPublishDuration,this.state=t.state,this.stateNotification=t.stateNotification,this.dvr=t.dvr?new i.Dvr(t.dvr):void 0,this.publisherGeo=t.publisherGeo?new r.Geo(t.publisherGeo):void 0,this.dateCreated=t.dateCreated,this.dateUpdated=t.dateUpdated};e.LiveStream=a},1121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Geo=void 0;var i=function(t){var e=t.coordinates;e&&(this.coordinates={latitude:e.latitude,longitude:e.longitude}),this.ipAddress=t.ipAddress,this.country=t.country,this.city=t.city};e.Geo=i},1122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observeJobGroupCreator=e.observeJobCreator=void 0;var i=n(1232),r=n(1135),o=n(1136);e.observeJobCreator=function(t,e){var n=new r.JobManager(t,e);return function(t,e){return void 0===e&&(e=500),new i((function(i){var r=function(t){t.isError()?i.error(t):(i.next(t),t.isSuccess()?i.complete():t.isWaiting()&&setTimeout((function(){var e;e=t,n.getJob(e.id).then(r).catch(o)}),e))},o=function(t){i.error(t)};t().then(r).catch(o)}))}},e.observeJobGroupCreator=function(t,e){var n=new r.JobManager(t,e);return function(t,e){return void 0===e&&(e=500),new i((function(i){var r=function(t){t.isError()?i.error(t):(i.next(t),t.isSuccess()?i.complete():t.isWaiting()&&setTimeout((function(){var e;e=t,n.getJobGroup(e.groupId).then((function(t){return new o.JobGroup({groupId:e.groupId,jobs:t})})).then(r).catch(s)}),e))},s=function(t){i.error(t)};t().then(r).catch(s)}))}}},1123:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=e.isAsyncGenerator=e.isAsync=void 0;var i,r=n(1271),o=(i=r)&&i.__esModule?i:{default:i};function s(t){return"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){if("function"!=typeof t)throw new Error("expected a function");return s(t)?(0,o.default)(t):t},e.isAsync=s,e.isAsyncGenerator=function(t){return"AsyncGenerator"===t[Symbol.toStringTag]},e.isAsyncIterable=function(t){return"function"==typeof t[Symbol.asyncIterator]}},1124:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MP=e.transcode=e.archive=e.flow=e.live=e.job=e.file=e.upload=e.image=e.MediaType=e.QualityRange=e.Destination=e.Source=e.Image=e.MediaPlatform=e.Configuration=void 0;var i=n(1175);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return i.Image}});var r=n(1105);Object.defineProperty(e,"Destination",{enumerable:!0,get:function(){return r.Destination}});var o=n(1114),s=n(1115),a=n(1131),u=n(1132);Object.defineProperty(e,"QualityRange",{enumerable:!0,get:function(){return u.QualityRange}});var c=n(1103);Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return c.Source}});var l=n(1116),h=n(1133),p=n(1117),f=n(1119),d=n(1120),v=n(1210),y=n(1211),m=n(1212),g=n(1213),b=n(1214),_=n(1215),w=n(1216),P=n(1218),O=n(1219),j=n(1220),M=n(1221),T=n(1222),x=n(1223),S=n(1224),E=n(1225);Object.defineProperty(e,"Configuration",{enumerable:!0,get:function(){return E.Configuration}});var R=n(1226);Object.defineProperty(e,"MediaPlatform",{enumerable:!0,get:function(){return R.MediaPlatform}});var C=n(1137),U=n(1106);Object.defineProperty(e,"MediaType",{enumerable:!0,get:function(){return U.MediaType}}),e.image={Image:i.Image,ImageOperationSpecification:a.ImageOperationSpecification,ImageOperationRequest:_.ImageOperationRequest},e.upload={UploadJob:C.UploadJob},e.file={UploadUrlRequest:S.UploadUrlRequest,UploadFileRequest:x.UploadFileRequest,ImportFileRequest:w.ImportFileRequest,ListFilesRequest:P.ListFilesRequest,Source:c.Source,Destination:r.Destination},e.job={SearchJobsRequest:M.SearchJobsRequest},e.live={LivestreamRequest:j.LiveStreamRequest,LiveStreamListRequest:O.LiveStreamListRequest,LiveStream:d.LiveStream},e.flow={CreateFlowRequest:y.CreateFlowRequest,Flow:h.Flow,Invocation:f.Invocation,FlowComponent:p.FlowComponent},e.archive={CreateArchiveRequest:v.CreateArchiveRequest,ExtractArchiveRequest:m.ExtractArchiveRequest},e.transcode={TranscodeRequest:T.TranscodeRequest,TranscodeSpecification:l.TranscodeSpecification,ExtractPosterRequest:g.ExtractPosterRequest,ExtractStoryboardRequest:b.ExtractStoryboardRequest,ExtractPosterSpecification:o.ExtractPosterSpecification,ExtractStoryboardSpecification:s.ExtractStoryboardSpecification,QualityRange:u.QualityRange},e.MP={Configuration:E.Configuration,MediaPlatform:R.MediaPlatform,Image:i.Image,image:e.image,upload:e.upload,file:e.file,job:e.job,live:e.live,flow:e.flow,archive:e.archive,transcode:e.transcode,Source:c.Source,Destination:r.Destination,QualityRange:u.QualityRange,MediaType:U.MediaType}},1125:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStream=void 0;var i=function(t){this.codecLongName=null,this.codecTag=null,this.codecName=null,this.duration=null,this.bitrate=null,this.index=null,this.codecLongName=t.codecLongName,this.codecTag=t.codecTag,this.codecName=t.codecName,this.duration=t.duration,this.bitrate=t.bitrate,this.index=t.index};e.AudioStream=i},1126:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0;var i=function(t){this.pixelFraction=null,this.score=null,this.r=t.r,this.g=t.g,this.b=t.b,this.pixelFraction=t.pixelFraction,this.score=t.score};e.Color=i},1127:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExplicitContent=e.Likelihood=void 0,function(t){t.VERY_LIKELY="VERY_LIKELY",t.POSSIBLE="POSSIBLE",t.UNLIKELY="UNLIKELY",t.VERY_UNLIKELY="VERY_UNLIKELY"}(e.Likelihood||(e.Likelihood={}));var i=function(t){this.likelihood=t.likelihood,this.name=t.name};e.ExplicitContent=i},1128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Label=void 0;var i=function(t){this.name=t.name,this.score=t.score};e.Label=i},1129:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFileDescriptor=void 0,e.parseFileDescriptor=function(t,e){if("image"!==e.mimeType.split("/")[0].toLowerCase())throw new Error("file is not an image");t.path=e.path,t.fileName=t.path.split("/").pop()}},1130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=function(){function t(t,e,n){this.width=t,this.height=e,this.mimeType=n}return t.prototype.serialize=function(){return"w_"+this.width+",h_"+this.height+",mt_"+encodeURIComponent(this.mimeType)},t}();e.Metadata=i},1131:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageOperationSpecification=void 0;var i=n(1105),r=function(t){this.command=null,this.destination=null,this.command=t.command,this.destination=new i.Destination(t.destination)};e.ImageOperationSpecification=r},1132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QualityRange=void 0;var i=function(t){this.minimum=null,this.maximum=null,this.minimum=t.minimum||null,this.maximum=t.maximum||null};e.QualityRange=i},1133:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Flow=void 0;var i=n(1117),r=n(1119),o=function(t){var e=this;this.id=null,this.status=null,this.operations={},this.id=t.id,this.status=t.status||null,this.error=t.error||null,this.invocation=new r.Invocation(t.invocation),Object.keys(t.operations).map((function(n){e.operations[n]=new i.FlowComponent(t.operations[n])}))};e.Flow=o},1134:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dvr=void 0;var i=n(1105),r=function(t){this.destination=new i.Destination(t.destination)};e.Dvr=r},1135:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.JobManager=void 0;var r=n(1107),o=n(1234),s=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/jobs"}return t.prototype.getJob=function(t){return this.httpClient.get(this.apiUrl+"/"+t).then((function(t){return new r.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getJobGroup=function(t){return this.httpClient.get(this.apiUrl+"/groups/"+t,{}).then((function(t){return t.payload.map((function(t){return new r.Job(t)}))}),(function(t){return Promise.reject(t)}))},t.prototype.searchJobs=function(t){var e=i({},t);return this.httpClient.get(this.apiUrl,e).then((function(t){return new o.SearchJobsResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.JobManager=s},1136:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JobGroup=void 0;var i=n(1107),r=function(){function t(t){this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))}return t.prototype.isWaiting=function(){return this.jobs.some((function(t){return t.isWaiting()}))},t.prototype.isError=function(){return this.jobs.some((function(t){return t.isError()}))},t.prototype.isSuccess=function(){return this.jobs.every((function(t){return t.isSuccess()}))},t}();e.JobGroup=r},1137:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadJob=e.UploadJobState=void 0;var o,s=n(1257),a=n(1108),u=n(1106),c=n(1258),l=n(1259),h=n(1260),p=n(1261),f=n(1262),d=n(1263);!function(t){t.STOPPED="stopped",t.RUNNING="running"}(o=e.UploadJobState||(e.UploadJobState={}));var v=function(t){function e(e){var n=e.file,i=e.path,r=e.uploadFileRequest,s=e.uploadToken,a=e.uploadUrl,u=t.call(this)||this;return u.state=o.STOPPED,u.request=void 0,u.file=n,u.path=i,u.uploadFileRequest=r,u.uploadToken=s,u.uploadUrl=a,u}return r(e,t),e.prototype.run=function(t){var e=this;if(this.state===o.RUNNING)return console.warn("job already running"),this;if(!this.file)throw Error("no file");this.state=o.RUNNING;var n=u.ACL.PUBLIC;this.uploadFileRequest&&this.uploadFileRequest.acl&&(n=this.uploadFileRequest.acl);var i=new p.UploadStartedEvent(this);this.emit(i.name,i);var r=new d.UploadConfigurationRequest({acl:n,mimeType:this.file.type,path:this.path,size:this.file.size});return(this.uploadToken&&this.uploadUrl?Promise.resolve({uploadToken:this.uploadToken,uploadUrl:this.uploadUrl}):t.getUploadConfiguration(r)).then((function(t){var i=function(t){var n=new h.UploadProgressEvent(e,t.loaded,t.total);e.emit(n.name,n)},r=function(t){var n;if(t.target.status>=400)n=new l.UploadErrorEvent(e,t.target.response);else{var i="string"==typeof t.target.response?JSON.parse(t.target.response).payload:t.target.response.payload,r=[new a.FileDescriptor(i)];n=new f.UploadSuccessEvent(e,t.target.response,r)}e.emit(n.name,n)},s=function(){var t=new l.UploadErrorEvent(e,y.response);e.emit(t.name,t)},u=function(t){var n=new c.UploadAbortedEvent(t.target);e.emit(n.name,n)},p=function(){d(),e.emit("upload-end")},d=function(){y.upload?y.upload.removeEventListener("progress",i):y.removeEventListener("progress",i),y.removeEventListener("load",r),y.removeEventListener("error",s),y.removeEventListener("abort",u),y.removeEventListener("loadend",p),e.state=o.STOPPED},v=new FormData;v.append("uploadToken",t.uploadToken),void 0!==e.path&&v.append("path",e.path),void 0!==e.file&&v.append("file",e.file),v.append("acl",n),e.uploadFileRequest&&e.uploadFileRequest.lifecycle&&v.append("lifecycle",e.uploadFileRequest.lifecycle);var y=e.request=new XMLHttpRequest;y.upload?y.upload.addEventListener("progress",i):y.addEventListener("progress",i),y.addEventListener("load",r),y.addEventListener("error",s),y.addEventListener("abort",u),y.addEventListener("loadend",p),y.open("POST",t.uploadUrl),y.withCredentials=!0,y.responseType="json",y.send(v)}),(function(t){var n=new l.UploadErrorEvent(e,t);e.emit(n.name,n)})),this},e.prototype.abort=function(){if(this.state!==o.RUNNING)throw Error("Job is not running");this.request&&this.request.abort()},e}(s.EventEmitter);e.UploadJob=v},1138:function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.fallback=s,e.wrap=a;var i,r=e.hasSetImmediate="function"==typeof t&&t,o=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function s(t){setTimeout(t,0)}function a(t){return(e,...n)=>t(()=>e(...n))}i=r?t:o?n.nextTick:s,e.default=a(i)}).call(this,n(1268).setImmediate,n(552))},1175:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var i=n(1176),r=n(1111),o=n(1108),s=n(1112),a=n(1187),u=n(1188),c=n(1189),l=n(1190),h=n(1191),p=n(1192),f=n(1193),d=n(1194),v=n(1195),y=n(1196),m=n(1197),g=n(1198),b=n(1129),_=n(1199),w=n(1200),P=function(){function t(t){this.host=null,this.path=null,this.fileName=null,this.metadata=null,this.version="v1",this.geometry=null;var e=new f.UnsharpMask(this);this.unsharpMask=e.configuration;var n=new u.Blur(this);this.blur=n.percentage;var i=new c.Brightness(this);this.brightness=i.brightness;var r=new l.Contrast(this);this.contrast=r.contrast;var v=new h.Hue(this);this.hue=v.hue;var y=new p.Saturation(this);this.saturation=y.saturation;var m=new a.JPEG(this);this.jpeg=m.compression;var g=new d.Watermark(this);this.watermark=g.manifest,t&&("string"==typeof t?w.parseUrl(this,t):t instanceof o.FileDescriptor?b.parseFileDescriptor(this,t):t instanceof s.FileMetadata&&_.parseFileMetadata(this,t)),this.serializationOrder=[n,i,r,v,m,y,e,g]}return t.prototype.scaleToWidth=function(t,e){var n=(new i.Dimension).setWidth(t);return this.fillContainer(n,e)},t.prototype.scaleToHeight=function(t,e){var n=(new i.Dimension).setHeight(t);return this.fillContainer(n,e)},t.prototype.fillContainer=function(t,e){if(!this.metadata)throw new Error("client side manipulation requires image basic metadata");null==e&&(e=new r.Rectangle(this.metadata.width,this.metadata.height,0,0));var n,i=e.width/e.height,o=Math.round(t.width?t.width:t.height*i),s=Math.round(t.height?t.height:t.width/i);n=t.width/t.height<=1?s/e.height:o/e.width;var a=Math.floor(e.x*n),u=Math.floor(e.y*n),c=Math.floor(e.height*n),l=Math.floor(e.width*n),h=s-c;c+=h;var p=Math.floor(h/2);u-p<0?u=0:u-=p;var f=o-l;l+=f;var d=Math.floor(f/2);return a-d<0?a=0:a-=d,this.crop(l,c,a,u,n)},t.prototype.crop=function(t,e,n,i,r){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),this.geometry=new v.Crop(t,e,n,i,r),this},t.prototype.smartCrop=function(t,e){return this.geometry=new g.SmartCrop(t,e),this},t.prototype.fill=function(t,e){return this.geometry=new y.Fill(t,e),this},t.prototype.fit=function(t,e){return this.geometry=new m.Fit(t,e),this},t.prototype.toUrl=function(t){var e=this.toCommand();if(e.error)return{url:null,error:e.error};var n=t||this.host||"",i="";0!==n.length&&0!==n.indexOf("http")&&0!==n.indexOf("//")&&(i+="//"),n.lastIndexOf("/")===n.length-1&&(n=n.slice(0,-1));var r=this.path;return null===r||null===this.fileName?{url:null,error:new Error("path or filename is missing")}:(0===r.indexOf("/")&&(r=r.slice(1)),e.command?i+=n+"/"+r+e.command+"/"+encodeURIComponent(this.fileName):i+=n+"/"+r,this.metadata&&(i+="#"+this.metadata.serialize()),{url:i,error:null})},t.prototype.toCommand=function(){if(!this.geometry)return{url:"",error:null};var t=this.geometry.serialize();if(t.error)return{url:null,error:t.error};var e=this.collectParams();return e.errors.length>0?{url:null,error:new Error(e.errors.join(","))}:{command:"/"+this.version+"/"+t.params+e.params,error:null}},t.prototype.collectParams=function(){var t,e="",n=[];return this.serializationOrder.forEach((function(i){(t=i.serialize()).error&&n.push(t.error),e.length>0&&t.params&&t.params.length>0&&(e+=","),e+=t.params})),e.length>0&&(e=","+e),{params:e,errors:n}},t}();e.Image=P},1176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dimension=void 0;var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}return t.prototype.setWidth=function(t){return this.width=t,this},t.prototype.setHeight=function(t){return this.height=t,this},t}();e.Dimension=i},1177:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioBasicMetadata=void 0;var i=n(1125),r=n(1178),o=function(t){this.audioStreams=[],this.format=null,this.audioStreams=t.audioStreams.map((function(t){return new i.AudioStream(t)})),this.format=null===t.format?t.format:new r.AudioFormat(t.format||void 0)};e.AudioBasicMetadata=o},1178:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioFormat=void 0;var i=function(t){this.formatLongName=null,this.duration=null,this.bitrate=null,this.size=null,this.formatLongName=t.formatLongName,this.duration=t.duration,this.bitrate=t.bitrate,this.size=t.size};e.AudioFormat=i},1179:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioExtraMetadata=void 0;var i=n(1180),r=n(1181),o=function(t){this.trackName=null,this.artist=null,this.albumName=null,this.trackNumber=null,this.genre=null,this.composer=null,this.year=null,this.images=[],this.lyrics=null,this.trackName=t.trackName,this.artist=t.artist,this.albumName=t.albumName,this.trackNumber=t.trackNumber,this.genre=t.genre,this.composer=t.composer,this.year=t.year,t.images&&(this.images=t.images.map((function(t){return new i.AttachedImage(t)}))),t.lyrics&&(this.lyrics=new r.Lyrics(t.lyrics))};e.AudioExtraMetadata=o},1180:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedImage=void 0;var i=function(t){this.type=null,this.mimeType=null,this.url=null,this.type=t.type,this.mimeType=t.mimeType,this.url=t.url};e.AttachedImage=i},1181:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lyrics=void 0;var i=function(t){this.description=null,this.language=null,this.text=null,this.description=t.description,this.language=t.language,this.text=t.text};e.Lyrics=i},1182:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageBasicMetadata=void 0;var i=function(t){this.height=null,this.width=null,this.colorspace=null,this.format=null,this.height=t.height,this.width=t.width,this.colorspace=t.colorspace,this.format=t.format};e.ImageBasicMetadata=i},1183:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageFeatures=void 0;var i=n(1111),r=n(1126),o=n(1127),s=n(1128),a=function(t){this.colors=[],this.explicitContent=[],this.faces=[],this.labels=[],this.colors=t.colors.map((function(t){return new r.Color(t)})),this.explicitContent=t.explicitContent.map((function(t){return new o.ExplicitContent(t)})),this.faces=t.faces.map((function(t){return new i.Rectangle(t.width,t.height,t.x,t.y)})),this.labels=t.labels.map((function(t){return new s.Label(t)}))};e.ImageFeatures=a},1184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoBasicMetadata=void 0;var i=n(1125),r=n(1185),o=n(1186),s=function(t){this.interlaced=null,this.videoStreams=[],this.audioStreams=[],this.format=null,this.interlaced=t.interlaced,this.videoStreams=t.videoStreams.map((function(t){return new o.VideoStream(t)})),this.audioStreams=t.audioStreams.map((function(t){return new i.AudioStream(t)})),this.format=null===t.format?t.format:new r.VideoFormat(t.format||void 0)};e.VideoBasicMetadata=s},1185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFormat=void 0;var i=function(t){this.formatLongName=null,this.duration=null,this.bitrate=null,this.size=null,this.formatLongName=t.formatLongName,this.duration=t.duration,this.bitrate=t.bitrate,this.size=t.size};e.VideoFormat=i},1186:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoStream=void 0;var i=function(t){this.codecLongName=null,this.codecTag=null,this.codecName=null,this.height=null,this.width=null,this.duration=null,this.bitrate=null,this.index=null,this.rFrameRate=null,this.avgFrameRate=null,this.sampleAspectRatio=null,this.displayAspectRatio=null,this.codecLongName=t.codecLongName,this.codecTag=t.codecTag,this.codecName=t.codecName,this.height=t.height,this.width=t.width,this.duration=t.duration,this.bitrate=t.bitrate,this.index=t.index,this.rFrameRate=t.rFrameRate,this.avgFrameRate=t.avgFrameRate,this.sampleAspectRatio=t.sampleAspectRatio,this.displayAspectRatio=t.displayAspectRatio};e.VideoStream=i},1187:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.JPEG=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={quality:null,baseline:null}}return t.prototype.compression=function(t,e){return t=Math.round(t||0),this.error=o.validator.numberNotInRange("jpeg compression quality",t,0,100),this.error||(this.settings.quality=75===t?null:t||null,this.settings.baseline=!!e),this.image},t.prototype.serialize=function(){var t="";return this.settings.quality&&(t+="q_"+this.settings.quality),this.settings.baseline&&(t.length>0&&(t+=","),t+="bl"),{params:t,error:this.error}},i([r.autobind],t.prototype,"compression",null),t}();e.JPEG=s},1188:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={percentage:null}}return t.prototype.percentage=function(t){return this.error=o.validator.numberNotInRange("blur",t,0,100),this.error||(this.settings.percentage=t||null),this.image},t.prototype.serialize=function(){var t="";return this.settings.percentage&&(t+="blur_"+this.settings.percentage),{params:t,error:this.error}},i([r.autobind],t.prototype,"percentage",null),t}();e.Blur=s},1189:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Brightness=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={brightness:null}}return t.prototype.brightness=function(t){return this.error=o.validator.numberNotInRange("brightness",t,-100,100),this.error||(this.settings.brightness=void 0===t?null:t),this.image},t.prototype.serialize=function(){var t="";return this.settings.brightness&&(t+="br_"+this.settings.brightness),{params:t,error:this.error}},i([r.autobind],t.prototype,"brightness",null),t}();e.Brightness=s},1190:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={contrast:null}}return t.prototype.contrast=function(t){if(this.error=o.validator.numberNotInRange("contrast",t,-100,100),this.error)return this.image;if("string"==typeof t){var e=Number(t);t=isNaN(e)?void 0:e}return this.settings.contrast=void 0===t?null:t,this.image},t.prototype.serialize=function(){var t="";return this.settings.contrast&&(t+="con_"+this.settings.contrast),{params:t,error:this.error}},i([r.autobind],t.prototype,"contrast",null),t}();e.Contrast=s},1191:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={hue:null}}return t.prototype.hue=function(t){return this.error=o.validator.numberNotInRange("hue",t,-100,100),this.error||(this.settings.hue=void 0===t?null:t),this.image},t.prototype.serialize=function(){var t="";return this.settings.hue&&(t+="hue_"+this.settings.hue),{params:t,error:this.error}},i([r.autobind],t.prototype,"hue",null),t}();e.Hue=s},1192:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.error=null,this.settings={saturation:null}}return t.prototype.saturation=function(t){return this.error=o.validator.numberNotInRange("saturation",t,-100,100),this.error||(this.settings.saturation=void 0===t?null:t),this.image},t.prototype.serialize=function(){var t="";return this.settings.saturation&&(t+="sat_"+this.settings.saturation),{params:t,error:this.error}},i([r.autobind],t.prototype,"saturation",null),t}();e.Saturation=s},1193:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.UnsharpMask=void 0;var r=n(85),o=n(1104),s=function(){function t(t){this.image=t,this.settings={radius:null,amount:null,threshold:null},this.error=null}return t.prototype.configuration=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),!t)return this.settings.radius=null,this.settings.amount=null,this.settings.threshold=null,this.error=null,this.image;var i=function(t){return"string"==typeof t?parseFloat(t):t},r=i(t),s=i(e),a=i(n);return this.error=o.validator.numberNotInRange("unsharp mask radius",r,.1,128),this.error||(this.error=o.validator.numberNotInRange("unsharp mask amount",s,0,10)),this.error||(this.error=o.validator.numberNotInRange("unsharp mask threshold",a,0,255)),this.settings.radius=r,this.settings.amount=s,this.settings.threshold=a,this.image},t.prototype.serialize=function(){if(this.error)return{params:null,error:this.error};var t="";return null!==this.settings.radius&&null!==this.settings.amount&&null!==this.settings.threshold&&(t+="usm_"+this.settings.radius.toFixed(2)+"_"+this.settings.amount.toFixed(2)+"_"+this.settings.threshold.toFixed(2)),{params:t,error:this.error}},i([r.autobind],t.prototype,"configuration",null),t}();e.UnsharpMask=s},1194:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Watermark=void 0;var r=n(85),o=function(){function t(t){this.image=t,this.error="",this.settings={manifest:null}}return t.prototype.manifest=function(t){return this.settings.manifest=t||null,this.error="",this.image},t.prototype.serialize=function(){var t="";return this.settings.manifest&&(t+="wm_"+this.settings.manifest),{params:t,error:this.error}},i([r.autobind],t.prototype,"manifest",null),t}();e.Watermark=o},1195:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Crop=void 0;var i=n(1104),r=function(){function t(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),this.width=t,this.height=e,this.x=n,this.y=i,this.scale=r,this.name="crop",this.error=null,this.width=Math.round(this.width),this.height=Math.round(this.height),this.coordinates(n,i,r)}return t.prototype.coordinates=function(t,e,n){return 0===arguments.length?(this.x=null,this.y=null,this.scale=null,this.error=null,this):(this.x=Math.round(t),this.y=Math.round(e),this.scale=n&&1!==n?n:null,this)},t.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},t.prototype.serialize=function(){var t=i.validator.numberNotInRange("crop scale factor",this.scale,0,100),e=i.validator.numberIsNotGreaterThan("crop x",this.x,0),n=i.validator.numberIsNotGreaterThan("crop y",this.y,0),r=i.validator.numberIsNotGreaterThan("width",this.width,1),o=i.validator.numberIsRequired("height",this.height)||i.validator.numberIsNotGreaterThan("height",this.height,1);if(t||e||n||r||o)return{params:null,error:new Error([t,e,n,r,o].filter((function(t){return t})).join(","))};var s=this.name+"/w_"+this.width+",h_"+this.height;if((s+=",x_"+(this.x||0)).length>0&&(s+=","),s+="y_"+(this.y||0),this.scale&&1!==this.scale){s.length>0&&(s+=",");var a=this.scale.toString();this.scale===Math.floor(this.scale)&&(a=this.scale.toFixed(1)),s+="scl_"+a}return{params:s,error:null}},t}();e.Crop=r},1196:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Fill=void 0;var o=n(1104),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="fill",e.x=null,e.y=null,e.error=null,e}return r(e,t),e.prototype.coordinates=function(t,e){return 0===arguments.length?(this.x=null,this.y=null,this.error=null,this):(this.x="number"==typeof t?Math.round(t):null,this.y="number"==typeof e?Math.round(e):null,this)},e.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1113).Geometry);e.Fill=s},1197:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Fit=void 0;var o=n(1104),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="fit",e.x=null,e.y=null,e.error=null,e}return r(e,t),e.prototype.coordinates=function(t,e){return 0===arguments.length?(this.x=null,this.y=null,this.error=null,this):(this.x=Math.round(t),this.y=Math.round(e),this)},e.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1113).Geometry);e.Fit=s},1198:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SmartCrop=void 0;var o=n(1104),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="scrop",e}return r(e,t),e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1113).GeometryBase);e.SmartCrop=s},1199:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFileMetadata=void 0;var i=n(1130),r=n(1129);e.parseFileMetadata=function(t,e){r.parseFileDescriptor(t,e.fileDescriptor),e.basic&&(t.metadata=new i.Metadata(e.basic.width,e.basic.height,e.fileDescriptor.mimeType))}},1200:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUrl=void 0;var i=n(1130),r={br:"brightness",con:"contrast",hue:"hue",sat:"saturation",blur:"blur",usm:"unsharpMask",wm:"watermark"};e.parseUrl=function(t,e){var n,o,s,a=function(t){var e,n,i,r,o,s,a,u,c,l,h;(h=t.split("#")).length>1&&(l=h[h.length-1]);(h=h[0].split("?")).length>1&&(c=h[h.length-1]);(h=h[0].split("//")).length>1?(e=h[0].replace(":",""),h=h[1].split("/")):h=h[0].split("/");var p=h[0].split(":");p.length>1&&(i=p[1]);return n=p[0],u=h[h.length-1],a=h[h.length-2],s=h[h.length-3],o=h[h.length-4],r=h.splice(1,h.length-5).join("/"),{host:(e?e+"://":"//")+n+(i?":"+i:"")+"/",path:r,version:o,geometry:s,transformations:a,fileName:u,query:c,fragment:l}}(e),u=(n=a.transformations,o=n.split(","),s={},o.forEach((function(t){var e=t.split("_");s[e[0]]=e.slice(1)})),s);t.host=a.host,t.path=a.path,t.metadata=function(t){if(!t)return null;var e=t.split(","),n={};if(e.forEach((function(t){var e=t.split("_");e.length>=2&&""!==e[1]&&(n[e[0]]=e.slice(1)[0])})),!n.w||!n.h||!n.mt)return null;return new i.Metadata(parseInt(n.w,10),parseInt(n.h,10),decodeURIComponent(n.mt))}(a.fragment);var c=t.path.split("/");t.fileName=c[c.length-1],function(t,e,n){var i=n.h,r=n.w,o=n.x,s=n.y,a=n.scl;t[e](i[0],r[0],o?o[0]:void 0,s?s[0]:void 0,a?a[0]:void 0)}(t,a.geometry,u),function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=r[n];i&&t[i].apply(t,e[n])}}(t,u)}},1201:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Audio=void 0;var i=n(1202),r=function(t){this.specification=new i.AudioSpecification(t.specification)};e.Audio=r},1202:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioSpecification=void 0;var i=n(1203),r=function(t){this.channels=null,this.codec=null,this.channels=t.channels,this.codec=null===t.codec?t.codec:new i.AudioCodec(t.codec)};e.AudioSpecification=r},1203:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCodec=void 0;var i=function(t){this.cbr=null,this.name=null,this.cbr=t.cbr,this.name=t.name};e.AudioCodec=i},1204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var i=n(1205),r=function(t){this.specification=new i.VideoSpecification(t.specification)};e.Video=r},1205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSpecification=void 0;var i=n(1206),r=n(1207),o=function(t){this.frameRate=null,this.keyFrame=null,this.codec=null,this.resolution=null,this.frameRate=t.frameRate,this.keyFrame=t.keyFrame,this.codec=t.codec?new r.VideoCodec(t.codec):null,this.resolution=new i.Resolution(t.resolution)};e.VideoSpecification=o},1206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resolution=void 0;var i=function(t){this.width=null,this.height=null,this.width=t.width,this.height=t.height};e.Resolution=i},1207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCodec=void 0;var i=function(t){this.profile=null,this.maxRate=null,this.crf=null,this.name=null,this.level=null,this.profile=t.profile,this.maxRate=t.maxRate,this.crf=t.crf,this.name=t.name,this.level=t.level};e.VideoCodec=i},1208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlaybackUrl=void 0;var i=function(t){this.path=null,this.packageName=null,this.path=t.path,this.packageName=t.packageName};e.PlaybackUrl=i},1209:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublishEndpoint=void 0;var i=n(1121),r=function(t){this.url=null,this.protocol=null,this.geo=void 0,this.url=t.url,this.protocol=t.protocol,this.geo=t.geo?new i.Geo(t.geo):void 0};e.PublishEndpoint=r},1210:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateArchiveRequest=void 0;var i=n(1105),r=n(1103),o=function(t){if(this.sources=[],this.destination=null,this.archiveType=null,!t)throw new Error("No data passed to CreateArchiveRequest constructor");this.sources=t.sources.map((function(t){return new r.Source(t)})),this.destination=t.destination?new i.Destination(t.destination):null,this.archiveType=t.archiveType};e.CreateArchiveRequest=o},1211:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CreateFlowRequest=void 0;var r=n(1117),o=n(1119),s=function(t){this.flow=Object.keys(t.flow).reduce((function(e,n){var o;return i(i({},e),((o={})[n]=new r.FlowComponent(t.flow[n]),o))}),{}),this.invocation=new o.Invocation(t.invocation)};e.CreateFlowRequest=s},1212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractArchiveRequest=void 0;var i=n(1105),r=n(1103),o=function(t){this.source=null,this.destination=new i.Destination(t.destination),this.source=t.source?new r.Source(t.source):null};e.ExtractArchiveRequest=o},1213:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractPosterRequest=void 0;var i=n(1114),r=n(1103),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new r.Source(t)}))),o&&(this.specifications=o.map((function(t){return new i.ExtractPosterSpecification(t)})))};e.ExtractPosterRequest=o},1214:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractStoryboardRequest=void 0;var i=n(1115),r=n(1103),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new r.Source(t)}))),o&&(this.specifications=o.map((function(t){return new i.ExtractStoryboardSpecification(t)})))};e.ExtractStoryboardRequest=o},1215:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageOperationRequest=void 0;var i=n(1131),r=n(1103),o=function(t){var e=t.source,n=void 0===e?null:e,o=t.specification,s=void 0===o?null:o;this.source=null,this.specification=null,n&&(this.source=new r.Source(n)),s&&(this.specification=new i.ImageOperationSpecification(s))};e.ImageOperationRequest=o},1216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImportFileRequest=void 0;var i=n(1105),r=n(1118),o=n(1217),s=function(t){this.sourceUrl=null,this.externalAuthorization=null,this.sourceUrl=t.sourceUrl,this.externalAuthorization=t.externalAuthorization?new o.ExternalAuthorization(t.externalAuthorization):null,this.destination=new i.Destination(t.destination),t.jobCallback&&(this.jobCallback=new r.Callback(t.jobCallback))};e.ImportFileRequest=s},1217:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalAuthorization=void 0;var i=function(t){this.headers={},this.headers=t.headers};e.ExternalAuthorization=i},1218:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListFilesRequest=void 0;var i=function(t){void 0===t&&(t={}),this.pageSize=20,this.orderBy=null,this.orderDirection=null,t.nextPageToken&&(this.nextPageToken=t.nextPageToken),t.pageSize&&(this.pageSize=t.pageSize),this.orderBy=t.orderBy||null,this.orderDirection=t.orderDirection||null,this.type=t.type||null};e.ListFilesRequest=i},1219:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveStreamListRequest=void 0;var i=function(){function t(t){t||(t={}),this.nextPageToken=t.nextPageToken||void 0,this.pageSize=t.pageSize||void 0,this.orderBy=t.orderBy||void 0,this.orderDirection=t.orderDirection||void 0,this.state=t.state||void 0}return t.prototype.toParams=function(){var t={};return void 0!==this.nextPageToken&&(t.nextPageToken=this.nextPageToken),void 0!==this.pageSize&&(t.pageSize=this.pageSize.toString()),void 0!==this.orderBy&&(t.orderBy=this.orderBy),void 0!==this.orderDirection&&(t.orderDirection=this.orderDirection.toString()),void 0!==this.state&&(t.state=this.state.join(",")),t},t}();e.LiveStreamListRequest=i},1220:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveStreamRequest=void 0;var i=n(1134),r=n(1121),o=function(t){this.protocol=null,this.maxStreamingSec=null,this.geo=null,this.connectTimeout=null,this.reconnectTimeout=null,this.streamType=null,this.dvr=null,this.stateNotification=null,this.protocol=t.protocol,this.maxStreamingSec=t.maxStreamingSec,this.geo=new r.Geo(t.geo),this.connectTimeout=t.connectTimeout,this.reconnectTimeout=t.reconnectTimeout,this.streamType=t.streamType||null,this.dvr=new i.Dvr(t.dvr),this.stateNotification=t.stateNotification||null};e.LiveStreamRequest=o},1221:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchJobsRequest=void 0;var i=function(t){var e=void 0===t?{}:t,n=e.nextPageToken,i=e.pageSize,r=e.orderBy,o=e.orderDirection,s=e.issuer,a=e.type,u=e.status,c=e.groupId,l=e.fileId,h=e.path;this.nextPageToken=null,this.pageSize=null,this.orderBy=null,this.orderDirection=null,this.issuer=null,this.type=null,this.status=null,this.groupId=null,this.fileId=null,this.path=null,this.nextPageToken=n||null,this.pageSize=i||null,this.orderBy=r||null,this.orderDirection=o||null,this.issuer=s||null,this.type=a||null,this.status=u||null,this.groupId=c||null,this.fileId=l||null,this.path=h||null};e.SearchJobsRequest=i},1222:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranscodeRequest=void 0;var i=n(1103),r=n(1116),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new i.Source(t)}))),o&&(this.specifications=o.map((function(t){return new r.TranscodeSpecification(t)})))};e.TranscodeRequest=o},1223:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UploadFileRequest=void 0;var i=n(1106),r=function(t){if(this.acl=i.ACL.PUBLIC,this.mimeType="application/octet-stream",t.acl&&(this.acl=t.acl),t.age){var e="string"==typeof t.age?parseInt(t.age,10):t.age;this.lifecycle=JSON.stringify({action:i.Lifecycle.Delete,age:e})}t.mimeType&&(this.mimeType=t.mimeType)};e.UploadFileRequest=r},1224:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UploadUrlRequest=void 0;var i=n(1106),r=function(t){this.acl=i.ACL.PUBLIC,this.mimeType=null,this.path=null,this.size=null,this.acl=t.acl,this.mimeType=t.mimeType,this.path=t.path,this.size=t.size};e.UploadUrlRequest=r},1225:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=void 0;var i=function(t,e,n){this.domain=t,this.authenticationUrl=e,this.authenticationHeaders=n};e.Configuration=i},1226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediaPlatform=void 0;var i=n(1227),r=n(1235),o=n(1240),s=n(1243),a=n(1244),u=n(1248),c=n(1135),l=n(1250),h=n(1253),p=n(1254),f=n(1255),d=n(1256),v=n(1264),y=n(1273),m=function(){function t(t){this.browserHTTPClient=new f.HTTPClient(t.authenticationUrl,t.authenticationHeaders);var e=new d.FileUploader(t,this.browserHTTPClient),n=new v.QueuedFileUploader(e);this.fileDownloader=new p.FileDownloader(t,this.browserHTTPClient),this.archiveManager=new i.ArchiveManager(t,this.browserHTTPClient),this.fileManager=new o.FileManager(t,this.browserHTTPClient,e),this.fileManager.queueFileUpload=function(t){return n.enqueue(t)},this.jobManager=new c.JobManager(t,this.browserHTTPClient),this.audioManager=new y.AudioManager(t,this.browserHTTPClient),this.avManager=new r.AVManager(t,this.browserHTTPClient),this.liveManager=new l.LiveManager(t,this.browserHTTPClient),this.flowManager=new s.FlowManager(t,this.browserHTTPClient),this.imageManager=new u.ImageManager(t,this.browserHTTPClient),this.widgetInstancesManager=new h.WidgetInstanceManager(t,this.browserHTTPClient),this.imageExtractionManager=new a.ImageExtractionManager(t,this.browserHTTPClient)}return t.prototype.getAuthorizationHeader=function(){return this.browserHTTPClient.getAuthorizationHeader().catch((function(t){return Promise.reject(t)}))},t.prototype.deauthorize=function(){this.browserHTTPClient.deauthorize()},t.prototype.getDownloadUrl=function(t,e){return this.fileDownloader.getDownloadUrl(t,e).then((function(t){return t}),(function(t){return Promise.reject(t)}))},t}();e.MediaPlatform=m},1227:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArchiveManager=void 0;var i=n(1107),r=n(1122),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain}return t.prototype.createArchive=function(t){return this.httpClient.post(this.baseUrl+"/_api/archive/create",t).then((function(t){return new i.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createArchiveObservable=function(t){var e=this;return r.observeJobCreator(this.configuration,this.httpClient)((function(){return e.createArchive(t)}))},t.prototype.doExtractArchive=function(t){return this.httpClient.post(this.baseUrl+"/_api/archive/extract",t)},t.prototype.extractArchiveObservable=function(t){var e=this;return r.observeJobCreator(this.configuration,this.httpClient)((function(){return e.extractArchive(t)}))},t.prototype.extractArchive=function(t){return this.doExtractArchive(t).then((function(t){return new i.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.ArchiveManager=o},1228:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateArchiveSpecification=void 0;var i=n(1103),r=function(t){this.sources=t.sources.map((function(t){return new i.Source(t)})),this.destination=t.destination,this.archiveType=t.archiveType};e.CreateArchiveSpecification=r},1229:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractArchiveSpecification=void 0;var i=n(1105),r=n(1103),o=function(t){this.source=new r.Source(t.source),this.destination=new i.Destination(t.destination)};e.ExtractArchiveSpecification=o},1230:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileImportSpecification=void 0;var i=function(t){this.sourceUrl=t.sourceUrl,this.destination=t.destination};e.FileImportSpecification=i},1231:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PackagingSpecification=e.PackageType=void 0;var i=n(1105);!function(t){t.HLS="hls",t.DASH="dash"}(e.PackageType||(e.PackageType={}));var r=function(t){this.destination=void 0,this.chunkDuration=void 0,this.packageType=void 0,this.chunkDuration=t.chunkDuration,t.destination&&(this.destination=new i.Destination(t.destination)),this.packageType=t.packageType};e.PackagingSpecification=r},1232:function(t,e,n){t.exports=n(1233).Observable},1233:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var s=function(){return"function"==typeof Symbol},a=function(t){return s()&&Boolean(Symbol[t])},u=function(t){return a(t)?Symbol[t]:"@@"+t};s()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),h=u("species");function p(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(t){var e=t.constructor;return void 0!==e&&null===(e=e[h])&&(e=void 0),void 0!==e?e:O}function d(t){return t instanceof O}function v(t){v.log?v.log(t):setTimeout((function(){throw t}))}function y(t){Promise.resolve().then((function(){try{t()}catch(t){v(t)}}))}function m(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=p(e,"unsubscribe");n&&n.call(e)}}catch(t){v(t)}}function g(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function b(t,e,n){t._state="running";var i=t._observer;try{var r=p(i,e);switch(e){case"next":r&&r.call(i,n);break;case"error":if(g(t),!r)throw n;r.call(i,n);break;case"complete":g(t),r&&r.call(i)}}catch(t){v(t)}"closed"===t._state?m(t):"running"===t._state&&(t._state="ready")}function _(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void y((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(b(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)}))):void b(t,e,n);t._queue.push({type:e,value:n})}}var w=function(){function t(e,n){i(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new P(this);try{this._cleanup=n.call(void 0,r)}catch(t){r.error(t)}"initializing"===this._state&&(this._state="ready")}return o(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),m(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),P=function(){function t(e){i(this,t),this._subscription=e}return o(t,[{key:"next",value:function(t){_(this._subscription,"next",t)}},{key:"error",value:function(t){_(this._subscription,"error",t)}},{key:"complete",value:function(){_(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),O=function(){function t(e){if(i(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return o(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new w(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,i){if("function"==typeof t)var r=e.subscribe({next:function(e){try{t(e,o)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n});else i(new TypeError(t+" is not a function"));function o(){r.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this),i=arguments.length>1,r=!1,o=arguments[1],s=o;return new n((function(n){return e.subscribe({next:function(e){var o=!r;if(r=!0,!o||i)try{s=t(s,e)}catch(t){return n.error(t)}else s=e},error:function(t){n.error(t)},complete:function(){if(!r&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=f(this);return new r((function(e){var i,o=0;return function t(s){i=s.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){o===n.length?(i=void 0,e.complete()):t(r.from(n[o++]))}})}(t),function(){i&&(i.unsubscribe(),i=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this);return new n((function(i){var r=[],o=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(t){return i.error(t)}var o=n.from(e).subscribe({next:function(t){i.next(t)},error:function(t){i.error(t)},complete:function(){var t=r.indexOf(o);t>=0&&r.splice(t,1),s()}});r.push(o)},error:function(t){i.error(t)},complete:function(){s()}});function s(){o.closed&&0===r.length&&i.complete()}return function(){r.forEach((function(t){return t.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var i=p(e,l);if(i){var r=i.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return d(r)&&r.constructor===n?r:new n((function(t){return r.subscribe(t)}))}if(a("iterator")&&(i=p(e,c)))return new n((function(t){y((function(){if(!t.closed){var n=!0,r=!1,o=void 0;try{for(var s,a=i.call(e)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(t.next(u),t.closed)return}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){y((function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r="function"==typeof this?this:t;return new r((function(t){y((function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}}))}))}},{key:h,get:function(){return this}}]),t}();e.Observable=O,s()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},1234:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchJobsResponse=void 0;var i=n(1107),r=function(t){this.nextPageToken=null,this.jobs=[],this.nextPageToken=t.nextPageToken,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.SearchJobsResponse=r},1235:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AVManager=void 0;var r=n(1122),o=n(1236),s=n(1237),a=n(1238),u=n(1239),c=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/av"}return t.prototype.transcodeVideoObservable=function(t){var e=this;return r.observeJobGroupCreator(this.configuration,this.httpClient)((function(){return e.transcodeVideo(t)}))},t.prototype.transcodeVideo=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/transcode",e).then((function(t){return new u.TranscodeJobResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.extractPoster=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/poster",e).then((function(t){return new o.ExtractPosterJobResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.extractStoryboard=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/storyboard",e).then((function(t){return new s.ExtractStoryboardJobResponse(t.payload)})).catch((function(t){return Promise.reject(t)}))},t.prototype.packageVideo=function(t){var e={sources:t.sources,specification:{destination:{directory:t.directory,acl:t.acl},chunkDuration:t.chunkDuration,packageType:t.packageType}};return this.httpClient.post(this.apiUrl+"/package",e).then((function(t){return new a.PackagingJobResponse(t.payload)}))},t}();e.AVManager=c},1236:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractPosterJobResponse=void 0;var i=n(1107),r=function(t){this.groupId=null,this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.ExtractPosterJobResponse=r},1237:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtractStoryboardJobResponse=void 0;var i=n(1107),r=function(t){this.jobs=[],this.groupId=null,this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.ExtractStoryboardJobResponse=r},1238:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PackagingJobResponse=void 0;var i=n(1107),r=function(t){this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.PackagingJobResponse=r},1239:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TranscodeJobResponse=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(1136).JobGroup);e.TranscodeJobResponse=o},1240:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.FileManager=void 0;var r=n(1106),o=n(1241),s=n(1107),a=n(1122),u=n(1108),c=n(1112),l=n(1242),h=function(){function t(t,e,n){this.configuration=t,this.httpClient=e,this.fileUploader=n,this.queueFileUpload=void 0,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/files"}return t.prototype.getUploadUrl=function(t){return this.fileUploader.getUploadUrl(t)},t.prototype.getUploadConfiguration=function(t,e){return void 0===e&&(e="v2"),this.fileUploader.getUploadConfiguration(t,e)},t.prototype.doUploadFile=function(t){var e=t.path,n=t.file,i=t.uploadFileRequest,r=t.uploadToken,s=t.uploadUrl,a=t.version,u=t.logger,c=void 0===u?o.dummyLogger:u,l=this.fileUploader.uploadFile({path:e,file:n,uploadFileRequest:i,uploadToken:r,uploadUrl:s,version:a,logger:c});return l.then?l.then((function(t){return t}),(function(t){return Promise.reject(t)})):l},t.prototype.uploadFile=function(t,e,n,i,r,o){return void 0===o&&(o="v2"),"object"==typeof t?this.doUploadFile(t):this.doUploadFile({path:t,file:e,uploadFileRequest:n,uploadToken:i,uploadUrl:r,version:o})},t.prototype.uploadFileV3=function(t,e,n,i){return this.uploadFile(t,e,n,void 0,i,"v3")},t.prototype.importFileObservable=function(t){var e=this;return a.observeJobCreator(this.configuration,this.httpClient)((function(){return e.importFile(t)}))},t.prototype.importFile=function(t){return this.httpClient.post(this.baseUrl+"/_api/import/file",t).then((function(t){return new s.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFile=function(t){return this.httpClient.post(this.apiUrl,t).then((function(t){return new u.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFolder=function(t){var e=t.acl,n=t.path;return this.httpClient.post(this.apiUrl,{acl:e,mimeType:r.DescriptorMimeType.Folder,path:n,size:0,type:r.FileType.FOLDER}).then((function(t){return new u.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getFile=function(t){var e={path:t};return this.httpClient.get(this.apiUrl,e).then((function(t){return new u.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getFileMetadataById=function(t){return this.httpClient.get(this.apiUrl+"/"+t+"/metadata").then((function(t){return new c.FileMetadata(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.listFiles=function(t,e){var n=i({path:t},e);return this.httpClient.get(this.apiUrl+"/ls_dir",n).then((function(t){return new l.ListFilesResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.deleteFileByPath=function(t){var e={path:t};return this.httpClient.delete(this.apiUrl,e).catch((function(t){return Promise.reject(t)}))},t.prototype.deleteFileById=function(t){return this.httpClient.delete(this.apiUrl+"/"+t).catch((function(t){return Promise.reject(t)}))},t.prototype.updateFileACL=function(t){return this.httpClient.put(this.apiUrl,t).then((function(t){return new u.FileDescriptor(t.payload)}))},t}();e.FileManager=h},1241:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dummyLogger=void 0,e.dummyLogger={trace:function(t){},warn:function(t){},debug:function(t){},error:function(t){},info:function(t){}}},1242:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListFilesResponse=void 0;var i=n(1108),r=function(t){this.files=[],this.nextPageToken=t.nextPageToken,this.files=t.files.map((function(t){return new i.FileDescriptor(t)}))};e.ListFilesResponse=r},1243:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlowManager=void 0;var i=n(1133),r=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/flow_control"}return t.prototype.getFlow=function(t){return this.httpClient.get(this.apiUrl+"/flow/"+t).then((function(t){return new i.Flow(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFlow=function(t){return this.httpClient.post(this.apiUrl+"/flow",t).then((function(t){return new i.Flow(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.deleteFlow=function(t){return this.httpClient.delete(this.apiUrl+"/flow/"+t).catch((function(t){return Promise.reject(t)}))},t}();e.FlowManager=r},1244:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageExtractionManager=void 0;var i=n(1245),r=n(1246),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/images"}return t.prototype.getListOfSupportedExtractors=function(t){return t&&t.length?t.join(","):"colors,labels,explicit_content,faces"},t.prototype.parseResponse=function(){return function(t){return new r.ImageExtraction(t.payload)}},t.prototype.errorHandler=function(){return function(t){return t}},t.prototype.extractImageById=function(t,e){var n=this.getListOfSupportedExtractors(e);return null===e&&i.logDeprecated("passing features as null in extractImageById"),this.httpClient.get(this.apiUrl+"/features?fileId="+t+"&features="+n).then(this.parseResponse(),this.errorHandler())},t.prototype.extractImageByFilePath=function(t,e){var n=this.getListOfSupportedExtractors(e);return this.httpClient.get(this.apiUrl+"/features?path="+t+"&features="+n).then(this.parseResponse(),this.errorHandler())},t}();e.ImageExtractionManager=o},1245:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deprecatedFn=e.logDeprecated=void 0,e.logDeprecated=function(t){console.warn("DEPRECATED: "+t)},e.deprecatedFn=function(t){return function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=void 0!==t?'"'+n.name+'" function is deprecated with message "'+t+'"':'"'+n.name+'" function is deprecated';return e.logDeprecated(o),n.apply(void 0,i)}}}},1246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageExtraction=void 0;var i=n(1126),r=n(1127),o=n(1247),s=n(1128),a=function(t){t.colors&&t.colors.length&&(this.colors=t.colors.map((function(t){return new i.Color(t)}))),t.labels&&t.labels.length&&(this.labels=t.labels.map((function(t){return new s.Label(t)}))),t.faces&&t.faces.length&&(this.faces=t.faces.map((function(t){return new o.Face(t.height,t.width,t.x,t.y)}))),t.explicitContent&&t.explicitContent.length&&(this.explicitContent=t.explicitContent.map((function(t){return new r.ExplicitContent(t)})))};e.ImageExtraction=a},1247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Face=void 0;var i=n(1111);e.Face=i.Rectangle},1248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageManager=void 0;var i=n(1108),r=n(1249),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/images"}return t.prototype.imageOperation=function(t){return this.httpClient.post(this.apiUrl+"/operations",t).then((function(t){return new i.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createWatermarkManifest=function(t){return this.httpClient.post(this.apiUrl+"/watermark",t).then((function(t){return new r.WatermarkManifest(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.ImageManager=o},1249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatermarkManifest=void 0;var i=function(t){this.id="",this.id=t.id};e.WatermarkManifest=i},1250:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LiveManager=void 0;var o=n(1120),s=n(1251),a=n(1252),u=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/live"}return t.prototype.openStream=function(t){return this.httpClient.post(this.apiUrl+"/stream",t).then((function(t){return new o.LiveStream(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStream=function(t){return this.httpClient.get(this.apiUrl+"/stream/"+t).then((function(t){return new o.LiveStream(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStreamAnalytics=function(t){return this.httpClient.get(this.apiUrl+"/stream/"+t+"/analytics").then((function(t){return new s.LiveStreamAnalytics(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.closeStream=function(t){return this.httpClient.delete(this.apiUrl+"/stream/"+t).catch((function(t){return Promise.reject(t)}))},t.prototype.listStreams=function(t){var e=t&&t.toParams();return this.httpClient.get(this.apiUrl+"/streams",e).then((function(t){return new a.LiveStreamListResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStreamCoverUrl=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.httpClient.addAuthToUrl(this.apiUrl+"/stream/"+t+"/frame")]}))}))},t}();e.LiveManager=u},1251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveStreamAnalytics=void 0;var i=function(t){this.projectId=t.projectId,this.streamId=t.streamId,this.stats=t.stats};e.LiveStreamAnalytics=i},1252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveStreamListResponse=void 0;var i=n(1120),r=function(t){this.nextPageToken=void 0,this.streams=[],this.nextPageToken=t.nextPageToken,this.streams=t.streams.map((function(t){return new i.LiveStream(t)}))};e.LiveStreamListResponse=r},1253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetInstanceManager=void 0;var i=function(){function t(t,e){this.configuration=t,this.httpClient=e}return t.prototype.getInstanceURL=function(t){return"https://"+this.configuration.domain+"/_api/widgetInstances/"+t},t.prototype.getAuthURL=function(t){return this.getInstanceURL(t)+"/auth"},t.prototype.auth=function(t){return this.httpClient.get(this.getAuthURL(t)).then((function(t){return t.payload.token}),(function(t){return console.error("Error while auth",t),""}))},t.prototype.fetchWidgetInstance=function(t){var e=this.httpClient,n=this.getInstanceURL(t);return e.get(n).then((function(t){return t.payload})).catch((function(t){throw console.error("error while fetching widget instance id",t),t}))},t}();e.WidgetInstanceManager=i},1254:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.FileDownloader=void 0;var r=function(){function t(t,e){this.configuration=t,this.httpClient=e}return t.prototype.getDownloadUrl=function(t,e){var n={path:t};return e&&(n=i(i({},n),e)),this.httpClient.get("https://"+this.configuration.domain+"/_api/download/secure_url",n).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t}();e.FileDownloader=r},1255:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTTPClient=void 0;var i=function(){function t(t,e){this.authenticationUrl=t,this.authenticationHeaders=e,this.authorizationHeader=null,this.authenticationUrl=t,this.authenticationHeaders=e}return t.prototype._request=function(t,e,n,i,r,o){var s=this;void 0===o&&(o=!1),this.getAuthorizationHeader().then((function(a){var u=new XMLHttpRequest,c="",l="";switch(t){case"POST":case"PUT":l=JSON.stringify(n);break;default:for(var h in c="",n)"function"!=typeof n[h]&&null!==n[h]&&void 0!==n[h]&&(""!==c&&(c+="&"),c+=h+"="+encodeURIComponent(n[h]))}u.addEventListener("load",(function(a){var c=null;try{c=JSON.parse(u.responseText||"{}")}catch(t){return void r(t,null)}if(200!==u.status&&201!==u.status)return 401!==u.status||o?void r(c,null):void s._request(t,e,n,i,r,!0);r(null,c)})),u.addEventListener("error",(function(a){403!==u.status&&401!==u.status||(s.authorizationHeader=null,401!==u.status||o)?r(new Error(u.statusText),null):s._request(t,e,n,i,r,!0)})),u.addEventListener("abort",(function(t){r(new Error(u.statusText),null)})),u.open(t,c?e+"?"+c:e),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Authorization",a.Authorization),u.send(l)}),(function(t){return r&&r(t,null),Promise.reject(t)}))},t.prototype.getAuthorizationHeader=function(){var t=this,e=this.authorizationHeader;return function(t){var e,n=!1;if(t&&t.Authorization){var i=null;try{var r=t.Authorization.split(".");e=window.atob(r[1]),i=JSON.parse(e)}catch(t){console.error("invalid token structure",e)}null!==i&&i.exp&&1e3*i.exp>Date.now()&&(n=!0)}return n}(e)?Promise.resolve(e):new Promise((function(e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){try{t.authorizationHeader=JSON.parse(i.responseText||"{}")}catch(t){return n(t)}return e(t.authorizationHeader)})),i.addEventListener("error",(function(){n(new Error(i.statusText))})),i.addEventListener("abort",(function(){n(new Error(i.statusText))})),i.open("GET",t.authenticationUrl),i.withCredentials=!0,i.setRequestHeader("Accept","application/json"),t.authenticationHeaders&&t.authenticationHeaders.forEach((function(t,e){return i.setRequestHeader(e,t)})),i.send()}))},t.prototype.deauthorize=function(){this.authorizationHeader=null},t.prototype.get=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("GET",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.put=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("PUT",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.post=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("POST",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.delete=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("DELETE",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.addAuthToUrl=function(t){var e=this;return new Promise((function(n,i){try{var r=new URL(t);e.getAuthorizationHeader().then((function(t){r.searchParams.set("Authorization",t.Authorization),n(r.toString())}),(function(t){i(t)}))}catch(t){i(t)}}))},t}();e.HTTPClient=i},1256:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileUploader=void 0;var i=n(1137),r=function(){function t(t,e){this.configuration=t,this.browserHTTPClient=e,this.uploadUrlEndpoint="https://"+t.domain+"/_api/upload/url",this.uploadConfigurationEndpoint="https://"+t.domain+"/_api/v2/upload/configuration",this.httpClient=e}return t.prototype.getUploadUrl=function(t){return this.browserHTTPClient.get(this.uploadUrlEndpoint,t).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t.prototype.getUploadConfiguration=function(t){return this.browserHTTPClient.post(this.uploadConfigurationEndpoint,t).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t.prototype.doUploadFile=function(t){var e=t.path,n=t.file,r=t.uploadToken,o=(t.version,t.uploadFileRequest),s=t.uploadUrl;return new i.UploadJob({file:n,path:e,uploadFileRequest:o,uploadToken:r,uploadUrl:s}).run(this)},t.prototype.uploadFile=function(t,e,n,i,r,o){return void 0===o&&(o="v2"),"object"==typeof t?this.doUploadFile(t):this.doUploadFile({path:t,file:e,uploadUrl:r,uploadFileRequest:n,uploadToken:i,version:o})},t.prototype.uploadFileV3=function(t,e,n,i,r){return null},t}();e.FileUploader=r},1257:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},c.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(p=1,u=new Array(h-1);p<h;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||u(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==e||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},1258:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadAbortedEvent=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name="upload-aborted",n}return r(e,t),e}(n(1109).UploadEvent);e.UploadAbortedEvent=o},1259:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadErrorEvent=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.name="upload-error",i}return r(e,t),e}(n(1109).UploadEvent);e.UploadErrorEvent=o},1260:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadProgressEvent=void 0;var o=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.loaded=n,r.total=i,r.name="upload-progress",r.loaded=n,r.total=i,r}return r(e,t),e}(n(1109).UploadEvent);e.UploadProgressEvent=o},1261:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadStartedEvent=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name="upload-started",n}return r(e,t),e}(n(1109).UploadEvent);e.UploadStartedEvent=o},1262:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadSuccessEvent=void 0;var o=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.fileDescriptors=i,r.name="upload-success",r.fileDescriptors=i,r}return r(e,t),e}(n(1109).UploadEvent);e.UploadSuccessEvent=o},1263:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UploadConfigurationRequest=void 0;var i=n(1106),r=function(t){this.acl=i.ACL.PUBLIC,this.mimeType=null,this.path=null,this.size=null,this.acl=t.acl||i.ACL.PUBLIC,this.mimeType=t.mimeType,this.path=t.path,this.size=t.size,t.callback&&(this.callback=t.callback)};e.UploadConfigurationRequest=r},1264:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueuedFileUploader=void 0;var i=n(1265),r=function(){function t(t,e){void 0===e&&(e=4),this.fileUploader=t,this.concurrency=e,this.jobs=[],this.fileUploader=t,this.queue=i((function(e,n){e.once("upload-end",n),e.run(t)}),e),this.jobs=[]}return t.prototype.enqueue=function(t){var e=this;return this.jobs.indexOf(t)>-1?(console.warn("upload job already queued"),this):(this.jobs.push(t),this.queue.push(t,(function(){var n=e.jobs.indexOf(t);n>-1&&e.jobs.splice(n,1)})),this)},t.prototype.pause=function(){return this.queue.pause(),this},t.prototype.resume=function(){return this.queue.resume(),this},t.prototype.kill=function(){return this.queue.kill(),this.jobs=[],this},t.prototype.length=function(){return this.queue.length()},t}();e.QueuedFileUploader=r},1265:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t);return(0,i.default)((t,e)=>{n(t[0],e)},e,1)};var i=o(n(1266)),r=o(n(1123));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var a=(0,s.default)(t),u=0,c=[];const l={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function h(t,e){return t?e?void(l[t]=l[t].filter(t=>t!==e)):l[t]=[]:Object.keys(l).forEach(t=>l[t]=[])}function p(t,...e){l[t].forEach(t=>t(...e))}var f=!1;function d(t,e,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var o,s;function a(t,...e){return t?n?s(t):o():e.length<=1?o(e[0]):void o(e)}b.started=!0;var u={data:t,callback:n?a:i||a};if(e?b._tasks.unshift(u):b._tasks.push(u),f||(f=!0,(0,r.default)(()=>{f=!1,b.process()})),n||!i)return new Promise((t,e)=>{o=t,s=e})}function v(t){return function(e,...n){u-=1;for(var i=0,r=t.length;i<r;i++){var o=t[i],s=c.indexOf(o);0===s?c.shift():s>0&&c.splice(s,1),o.callback(e,...n),null!=e&&p("error",e,o.data)}u<=b.concurrency-b.buffer&&p("unsaturated"),b.idle()&&p("drain"),b.process()}}function y(t){return!(0!==t.length||!b.idle())&&((0,r.default)(()=>p("drain")),!0)}const m=t=>e=>{if(!e)return new Promise((e,n)=>{!function(t,e){const n=(...i)=>{h(t,n),e(...i)};l[t].push(n)}(t,(t,i)=>{if(t)return n(t);e(i)})});h(t),function(t,e){l[t].push(e)}(t,e)};var g=!1,b={_tasks:new o.default,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:e,payload:n,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(y(t))return;return t.map(t=>d(t,!1,!1,e))}return d(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(y(t))return;return t.map(t=>d(t,!1,!0,e))}return d(t,!1,!0,e)},kill(){h(),b._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(y(t))return;return t.map(t=>d(t,!0,!1,e))}return d(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(y(t))return;return t.map(t=>d(t,!0,!0,e))}return d(t,!0,!0,e)},remove(t){b._tasks.remove(t)},process(){if(!g){for(g=!0;!b.paused&&u<b.concurrency&&b._tasks.length;){var t=[],e=[],n=b._tasks.length;b.payload&&(n=Math.min(n,b.payload));for(var r=0;r<n;r++){var o=b._tasks.shift();t.push(o),c.push(o),e.push(o.data)}u+=1,0===b._tasks.length&&p("empty"),u===b.concurrency&&p("saturated");var s=(0,i.default)(v(t));a(e,s)}g=!1}},length:()=>b._tasks.length,running:()=>u,workersList:()=>c,idle:()=>b._tasks.length+u===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,(0,r.default)(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:m("saturated")},unsaturated:{writable:!1,value:m("unsaturated")},empty:{writable:!1,value:m("empty")},drain:{writable:!1,value:m("drain")},error:{writable:!1,value:m("error")}}),b};var i=a(n(1267)),r=a(n(1138)),o=a(n(1270)),s=a(n(1123));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1267:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,e)}},t.exports=e.default},1268:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(1269),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(108))},1269:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,c={},l=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,i(u),u++},p.clearImmediate=f}function f(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(108),n(552))},1270:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):r(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):r(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:n}=e;t(e)&&this.removeLink(e),e=n}return this}}function r(t,e){t.length=1,t.head=t.tail=e}e.default=i,t.exports=e.default},1271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,o.isAsync)(t))return function(...e){const n=e.pop();return a(t.apply(this,e),n)};return(0,i.default)((function(e,n){var i;try{i=t.apply(this,e)}catch(t){return n(t)}if(i&&"function"==typeof i.then)return a(i,n);n(null,i)}))};var i=s(n(1272)),r=s(n(1138)),o=n(1123);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return t.then(t=>{u(e,null,t)},t=>{u(e,t&&t.message?t:new Error(t))})}function u(t,e,n){try{t(e,n)}catch(t){(0,r.default)(t=>{throw t},t)}}t.exports=e.default},1272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...e){var n=e.pop();return t.call(this,e,n)}},t.exports=e.default},1273:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioManager=void 0;var i=n(1112),r=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/audio"}return t.prototype.extractMetadata=function(t){var e={path:t};return this.httpClient.get(this.apiUrl+"/metadata",e).then((function(t){return new i.FileMetadata(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.AudioManager=r},1277:function(t,e,n){"use strict";n.r(e),n.d(e,"initCommonServices",(function(){return g})),n.d(e,"CommonServicesProvider",(function(){return b}));var i=n(2),r=n(0),o=n(1088),s=n(1124),a=n(1106),u=n(45),c="/media-studio-blobs-tmp/",l=n(1110),h=function(t,e){try{return new File([t],e)}catch(e){return t}},p=n(589),f=n(26),d=n(502),v=n(653),y=r.useRef,m=r.useEffect;function g(t,e){var n,r,o,f=e.mediaPlatformSettings,d=t.biLogger,v=Object(p.a)(d),y=f?(n={domain:f.domain,authenticationUrl:f.authenticationUrl},r=n.domain,o=n.authenticationUrl,new s.MediaPlatform({domain:r,authenticationUrl:o})):void 0,m=y&&f?function(t,e){return function(n){if(!t.fileManager.queueFileUpload)throw Error("Can not upload, no queueFileUpload");var i,r,o=Object(l.a)()+(i=n.type,(r=i.split("image/")[1])?"."+r:""),p=""+c+o,f=new s.upload.UploadJob({path:p,file:h(n,o),uploadFileRequest:new s.file.UploadFileRequest({acl:a.ACL.PUBLIC,age:3888e3})});return t.fileManager.queueFileUpload(f),new u.a((function(t){return f.on("upload-error",(function(){t.error(new Error("upload error"))})),f.on("upload-success",(function(n){var i=n.fileDescriptors;if(1===i.length){var r=i[0];t.next(""+e+r.path),t.complete()}else t.error(new Error("unexpected upload result"))})),function(){f.abort()}}))}}(y,f.imageServiceUrl):void 0;return Object(i.a)(Object(i.a)({},t),{uploadTempImage:m?v(m,{name:"uploadTempImage"}):m})}var b=function(t){var e=t.children,n=function(t){var e=Object(f.d)(),n=e.mediaPlatformSettings,r=y(Object(i.a)(Object(i.a)({},g(e,{mediaPlatformSettings:n})),t)),s=Object(d.b)(),a=s.state.common,u=s.registerCommon;return m((function(){u({epic:Object(o.a)(),services:r.current,name:"common"})}),[r,u]),{isReady:a,commonServices:r.current}}(t.passedServices),s=n.isReady,a=n.commonServices;return r.createElement(v.a.Provider,{value:a},s?e:null)};e.default=b}}]);
//# sourceMappingURL=common.chunk.min.js.map